/*
 *  This file is part of Cosmos Journeyer
 *
 *  Copyright (C) 2024 Barthélemy Paléologue <barth.paleologue@cosmosjourneyer.com>
 *
 *  This program is free software: you can redistribute it and/or modify
 *  it under the terms of the GNU Affero General Public License as published by
 *  the Free Software Foundation, either version 3 of the License, or
 *  (at your option) any later version.
 *
 *  This program is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  GNU Affero General Public License for more details.
 *
 *  You should have received a copy of the GNU Affero General Public License
 *  along with this program.  If not, see <https://www.gnu.org/licenses/>.
 */

(()=>{"use strict";var e={33219:function(e,a,t){t.d(a,{XP:()=>o,b7:()=>n,bY:()=>i});var r=t(96509),c=t(48353);function n(e){return Math.pow(e/r.ah,.78)*r.uR}function o(e,a){return 2*Math.PI*Math.sqrt(e/a)}function i(e,a,t){var r,n=(r=(0,c.P1)(100),e<=0?0:1/(1/r+2044761436301033e-19*Math.log(101325/e))),o=(0,c.P1)(0);return!(e<.05)&&!(n<o)&&!(a>n)&&!(t<o)}},48678:function(e,a,t){t.d(a,{J:()=>c});function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var c=function(){var e;function a(e,t,c,n){if(!(this instanceof a))throw TypeError("Cannot call a class as a function");r(this,"sound",void 0),r(this,"targetVolume",void 0),r(this,"volumeMultiplier",void 0),r(this,"playbackSpeedMultiplier",void 0),r(this,"maskFactor",1),r(this,"mask",void 0);var o=e.clone();if(null===o)throw Error("Cloned sound was null!");this.sound=o,this.mask=t,this.targetVolume=c,this.volumeMultiplier=e.getVolume(),this.playbackSpeedMultiplier=e.getPlaybackRate(),this.sound.updateOptions({playbackRate:this.playbackSpeedMultiplier,volume:this.targetVolume*this.volumeMultiplier*this.maskFactor,loop:!n})}return e=[{key:"play",value:function(){this.sound.play()}},{key:"setVolume",value:function(e){this.targetVolume=e,this.sound.setVolume(this.targetVolume*this.volumeMultiplier*this.maskFactor,.5)}},{key:"setMaskFactor",value:function(e){this.maskFactor=e,this.sound.setVolume(this.targetVolume*this.volumeMultiplier*this.maskFactor,.5)}},{key:"getMask",value:function(){return this.mask}},{key:"dispose",value:function(){this.sound.dispose()}}],function(e,a){for(var t=0;t<a.length;t++){var r=a[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(a.prototype,e),a}()},54530:function(e,a,t){t.d(a,{k6:()=>o,st:()=>i});var r,c=t(48678);function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var o=((r={})[r.CLICK=0]="CLICK",r[r.HOVER=1]="HOVER",r[r.SUCCESS=2]="SUCCESS",r[r.ERROR=3]="ERROR",r[r.WARNING=4]="WARNING",r[r.INFO=5]="INFO",r[r.ENABLE_ORBIT_DISPLAY=6]="ENABLE_ORBIT_DISPLAY",r[r.DISABLE_ORBIT_DISPLAY=7]="DISABLE_ORBIT_DISPLAY",r[r.TARGET_LOCK=8]="TARGET_LOCK",r[r.TARGET_UNLOCK=9]="TARGET_UNLOCK",r[r.ITINERARY_COMPUTED=10]="ITINERARY_COMPUTED",r[r.OPEN_PAUSE_MENU=11]="OPEN_PAUSE_MENU",r[r.ENABLE_WARP_DRIVE=12]="ENABLE_WARP_DRIVE",r[r.DISABLE_WARP_DRIVE=13]="DISABLE_WARP_DRIVE",r[r.ACCELERATING_WARP_DRIVE=14]="ACCELERATING_WARP_DRIVE",r[r.DECELERATING_WARP_DRIVE=15]="DECELERATING_WARP_DRIVE",r[r.HYPER_SPACE=16]="HYPER_SPACE",r[r.THRUSTER=17]="THRUSTER",r),i=function(){var e;function a(e){if(!(this instanceof a))throw TypeError("Cannot call a class as a function");n(this,"sounds",void 0),n(this,"isPlaying",!1),n(this,"soundQueue",[]),n(this,"soundInstances",new Set),n(this,"soundInstanceMask",15),this.sounds=e}return e=[{key:"getSoundFromType",value:function(e){switch(e){case 0:case 4:case 5:return this.sounds.menuSelect;case 2:return this.sounds.success;case 3:return this.sounds.error;case 1:case 6:case 7:return this.sounds.menuHover;case 8:return this.sounds.targetLock;case 9:case 10:return this.sounds.targetUnlock;case 11:return this.sounds.openPauseMenu;case 12:return this.sounds.enableWarpDrive;case 13:return this.sounds.disableWarpDrive;case 14:return this.sounds.acceleratingWarpDrive;case 15:return this.sounds.deceleratingWarpDrive;case 16:return this.sounds.hyperSpace;case 17:return this.sounds.thruster}}},{key:"playNow",value:function(e){this.getSoundFromType(e).play()}},{key:"enqueuePlay",value:function(e){this.soundQueue.push(this.getSoundFromType(e))}},{key:"createInstance",value:function(e,a,t,r){var n=this.getSoundFromType(e),o=new c.J(n,a,t,r);return this.soundInstances.add(o),o.setMaskFactor(+((a&this.soundInstanceMask)!=0)),o}},{key:"freeInstance",value:function(e){this.soundInstances.delete(e),e.dispose()}},{key:"setInstanceMask",value:function(e){this.soundInstanceMask=e}},{key:"update",value:function(){var e=this,a=!0,t=!1,r=void 0;try{for(var c,n=this.soundInstances[Symbol.iterator]();!(a=(c=n.next()).done);a=!0){var o=c.value,i=(o.getMask()&this.soundInstanceMask)!=0;o.setMaskFactor(+!!i)}}catch(e){t=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(t)throw r}}if(!this.isPlaying){var s=this.soundQueue.shift();void 0!==s&&(this.isPlaying=!0,s.play(),s.onEndedObservable.addOnce(function(){e.isPlaying=!1}))}}}],function(e,a){for(var t=0;t<a.length;t++){var r=a[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(a.prototype,e),a}()},66191:function(e,a,t){t.a(e,async function(e,a){try{t(15738);var r=t(43011),c=t(67810),n=t(24660),o=t(24542),i=await o.d.CreateAsync();i.setAutoSaveEnabled(!1);var s=i.starSystemView,d=s.scene,f=(0,r.s)("blackHole",42,"Gargantua",[]),u=(0,c.$)("miller",47,"Miller",[f]);u.orbit.semiMajorAxis=4*f.accretionDiskRadius,u.orbit.inclination=.2;var b={name:"Black Hole Demo",coordinates:{starSectorX:0,starSectorY:0,starSectorZ:0,localX:0,localY:0,localZ:0},stellarObjects:[f],planets:[u],satellites:[],anomalies:[],orbitalFacilities:[]};i.starSystemDatabase.registerCustomSystem(b);var l=await s.loadStarSystem(b);await i.init(!0),await s.switchToDefaultControls(!0);var h=l.getStellarObjects()[0];s.getDefaultControls().speed=h.getBoundingRadius(),(0,n.pl)(d.getActiveControls(),h,l,5),a()}catch(e){a(e)}},1)},69427:function(e,a,t){t.d(a,{o:()=>r});function r(e){try{return window.btoa(encodeURIComponent(e))}catch(e){return null}}}},a={};function t(r){var c=a[r];if(void 0!==c)return c.exports;var n=a[r]={exports:{}};return e[r](n,n.exports,t),n.exports}t.m=e,(()=>{var e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",a="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",c=e=>{e&&e.d<1&&(e.d=1,e.forEach(e=>e.r--),e.forEach(e=>e.r--?e.r++:e()))},n=t=>t.map(t=>{if(null!==t&&"object"==typeof t){if(t[e])return t;if(t.then){var n=[];n.d=0,t.then(e=>{o[a]=e,c(n)},e=>{o[r]=e,c(n)});var o={};return o[e]=e=>e(n),o}}var i={};return i[e]=function(){},i[a]=t,i});t.a=(t,o,i)=>{i&&((s=[]).d=-1);var s,d,f,u,b=new Set,l=t.exports,h=new Promise((e,a)=>{u=a,f=e});h[a]=l,h[e]=e=>{s&&e(s),b.forEach(e),h.catch(function(){})},t.exports=h,o(t=>{d=n(t);var c,o=()=>d.map(e=>{if(e[r])throw e[r];return e[a]}),i=new Promise(a=>{(c=()=>a(o)).r=0;var t=e=>e!==s&&!b.has(e)&&(b.add(e),e&&!e.d&&(c.r++,e.push(c)));d.map(a=>a[e](t))});return c.r?i:o()},e=>(e?u(h[r]=e):f(l),c(s))),s&&s.d<0&&(s.d=0)}})(),t.d=(e,a)=>{for(var r in a)t.o(a,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})},t.f={},t.e=e=>Promise.all(Object.keys(t.f).reduce((a,r)=>(t.f[r](e,a),a),[])),t.k=e=>""+e+".css",t.u=e=>""+e+"."+({1009:"4e09f2eb6fb572e7",1108:"00fe7425e8dfa7de",1246:"a6d8767a6ddf1d6c",1420:"ca81dd390692d997",1523:"d452cee24142d238",1619:"cedaa2bd44b3b853",1633:"4b83844c3f106eae",1667:"f165f5c1f8d21272",1670:"5bb47da53daa6519",1730:"6f3b433e2b9413b2",178:"04b5c4f07b354096",1801:"fa674c3ff688a69b",1806:"ece43cee92dba8ed",188:"565063ee0612af57",1935:"b48077fb07edbbbe",1952:"f3927659c9d3a9fb",1953:"097da047255cecd4",1966:"feebb9a8c1e1ccec",1968:"b98704fa70c3d48c",2029:"f72c675b7f77adf6",2070:"9574178ac62600b9",2105:"c3419aa76b22f25a",2194:"ccc632aa1d5401bc",2219:"2c3f420ec8a7f627",2400:"2cec4bd956fac0e4",2508:"e735353dd2f7121a",2524:"59e480ff430393f7",2751:"3547cdd721fdb4e7",276:"20463a0f6b54768c",2770:"fa3dfda4da92b40e",2814:"92a9ea152015ca79",2834:"fd2b3f9f98a57977",2851:"82f306a3dc3e531f",287:"0921cdd649d45e62",2886:"ba81cdcee8da8d67",29:"d05953d40e6c6bdd",2907:"21dccbfda50f02f1",2927:"1cbf6925f559598d",2951:"fe0d062f14355e20",2979:"bedada3d8734d327",2987:"a3edfc77b50da9f9",3034:"56aacf35db44363a",3145:"ef866cba8c543650",3332:"3f06ec03e72e5e06",3359:"54334f6c56fb7a28",34:"a3fa484be544439e",3536:"5b7d8d76c9e35c12",3674:"d80141f33fb3d9a8",3722:"ced176c80adeaf11",3742:"16c2bac33b1752f5",3745:"cf54c8eab2e4b2bf",3759:"9bc35d5f19f745d7",3798:"bef4813d59f74f9d",3821:"ef86f5bb897ed9da",3826:"52114c131d900c21",3829:"8c92c674eec26226",3833:"06ab04ec1666faa5",3845:"d27dabaf9a64c1fe",395:"c345047896c9a2a0",4003:"98afa796a3b45df9",4055:"ff7cbac2af6b45a7",4129:"0bfd3a3e2d044e3b",4164:"8864c3f24a2d80be",4280:"92b42bdca365ff81",4296:"d025fb75a4e0be15",4309:"6c2a6a517e8542fc",4400:"91ba711d911297be",4441:"18fd7745b7fae304",4549:"065f54f53200d271",4556:"be6fd477d7e1d5b8",4584:"233beaeaca4507ec",4636:"619990781b1fa2c8",4658:"5215752f114ab92f",4751:"b96ee6f2953f8158",477:"f4d4c9ef3f358999",4774:"fff0cb2f4591e4d0",482:"dc356722ab946b02",4820:"3b7f21bdb09f53b5",4823:"5a15113e9aced178",5038:"db4923baee4bdba9",5185:"23b74d5de79b65f4",52:"19bdbb6a32d3cfbd",5221:"18e9d185b1d01f07",5291:"3b6db1215d95e26b",5381:"b2be4284de0d1cce",5551:"c2abb4cdb2d8a5bc",5603:"258b8561a6464435",5630:"42bfe7c514e6e1ff",5652:"4308bd36c3d07b44",5725:"50a461b595a0aa3f",579:"42fa556d70e592ed",5815:"5ac8ff84307b750d",5915:"314a98d3154a8173",5960:"3d758248c1eff04a",5988:"e6a7e155e4277968",5989:"5e039e22c64b3c75",5997:"cd981479dddfed58",6150:"09fbe177dd9e55a2",6240:"4c4ab50553285ee6",6248:"ed24a4a08993849a",6253:"98bd5534c6f2547d",6264:"14baeb4f12c1a6bd",6342:"f2776df4a469b38a",6378:"f0d7c4209dde3fc3",65:"30e1a03fd2992306",6500:"a7d72979fd2f6892",6550:"b8f7074cf83e5b4b",6551:"33fef526a71c11bc",66:"3dfdcd75e7aeea66",6645:"101350041eaf8c0e",67:"34bf38ec8f16371a",6903:"5bcc3b98827507b5",7044:"c29afde9765c10c2",7081:"f54bab8775979f7c",712:"9cc0f3aef7661a43",7122:"9b2a9c0b4d7719cf",7126:"ccaf29bfbf3aac92",713:"e51b368f0e2eb3cf",7141:"36798d8f72c2e56e",7143:"2ec7bcabc113582c",7291:"3eab4a3a855b9bf0",7311:"8bed6f2771abb6b3",7590:"02186071a278da7b",761:"92fb5c010539fa69",7637:"1dbbbf5886436e73",7650:"0cf55d80eb0b2c4f",7809:"3aaec01bfa7b82d4",7843:"04e51aecba961339",7874:"fe0133e2443eb483",7903:"7a40885624204d09",7912:"2850c99c2e348d30",7927:"8bc67d46817ebf12",7971:"affb0e13f60e979c",8097:"20f9610fc35097ce",8197:"f804e1d75f2a08f4",8204:"30b0c2aa4b89d82e",8210:"b8b5372c25f2ddc7",8314:"2c4a8ca3c207cc43",8321:"93eff49fd1c17cf3",833:"a968828739cec5a4",8464:"ca83ae5cdaf122be",8497:"6d96d201a74d5ffd",8561:"badeebfde897a73b",8631:"ff5652adfa8e6ded",8632:"ac33ba04fb1c3888",8661:"1b45ba22d96561a9",8775:"ede08a2083b775ed",8821:"c5105e0be4faf35a",8854:"95057da7267ee458",8953:"c32f83dbd9a61dff",8975:"8f869395af72ed17",8978:"388f04717647405b",9068:"4c1df3aa9074ee9d",9075:"5fd8ae1fd8118631",9123:"9b62bda9b2bf6bbc",9190:"57be96b2ea48c611",9249:"4acc99b99a61d136",9256:"3745335b0d834476",9276:"c31f9160fcec626c",9385:"eeba2f32ece0dd7b",9474:"b5ca8e84c57f37b7",9616:"e42351c8ee1d64fb",9646:"bff583100e5a5b5c",974:"d475d90651a484f7",9749:"0117bee4d54a979b",975:"07939f26ed1e9130",9824:"188c489e64174b2d",9828:"06179aceb5726924",9870:"e00f89104b331c8a",9999:"34242539546a7587"})[e]+".js",t.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={},a="cosmos-journeyer:";t.l=function(r,c,n,o){if(e[r])return void e[r].push(c);if(void 0!==n)for(var i,s,d=document.getElementsByTagName("script"),f=0;f<d.length;f++){var u=d[f];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==a+n){i=u;break}}i||(s=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,t.nc&&i.setAttribute("nonce",t.nc),i.setAttribute("data-webpack",a+n),i.src=r),e[r]=[c];var b=function(a,t){i.onerror=i.onload=null,clearTimeout(l);var c=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),c&&c.forEach(function(e){return e(t)}),a)return a(t)},l=setTimeout(b.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=b.bind(null,i.onerror),i.onload=b.bind(null,i.onload),s&&document.head.appendChild(i)}})(),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=[];t.O=(a,r,c,n)=>{if(r){n=n||0;for(var o=e.length;o>0&&e[o-1][2]>n;o--)e[o]=e[o-1];e[o]=[r,c,n];return}for(var i=1/0,o=0;o<e.length;o++){for(var[r,c,n]=e[o],s=!0,d=0;d<r.length;d++)(!1&n||i>=n)&&Object.keys(t.O).every(e=>t.O[e](r[d]))?r.splice(d--,1):(s=!1,n<i&&(i=n));if(s){e.splice(o--,1);var f=c();void 0!==f&&(a=f)}}return a}})(),t.rv=()=>"1.3.13",(()=>{t.g.importScripts&&(e=t.g.location+"");var e,a=t.g.document;if(!e&&a&&(a.currentScript&&"SCRIPT"===a.currentScript.tagName.toUpperCase()&&(e=a.currentScript.src),!e)){var r=a.getElementsByTagName("script");if(r.length)for(var c=r.length-1;c>-1&&(!e||!/^http(s?):/.test(e));)e=r[c--].src}if(!e)throw Error("Automatic publicPath is not supported in this browser");t.p=e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/")})(),(()=>{var e={5940:0},a="cosmos-journeyer",r=(a,t)=>{e[t]=0},c="data-webpack-loading",n=function(e,r,n,o,i){var s,d,f="chunk-"+e;if(!o){for(var u=document.getElementsByTagName("link"),b=0;b<u.length;b++){var l=u[b],h=l.getAttribute("href")||l.href;if(h&&!h.startsWith(t.p)&&(h=t.p+(h.startsWith("/")?h.slice(1):h)),"stylesheet"==l.rel&&(h&&h.startsWith(r)||l.getAttribute("data-webpack")==a+":"+f)){s=l;break}}if(!n)return s}s||(d=!0,s=document.createElement("link"),t.nc&&s.setAttribute("nonce",t.nc),s.setAttribute("data-webpack",a+":"+f),i&&s.setAttribute("fetchpriority",i),s.setAttribute(c,1),s.rel="stylesheet",s.href=r);var p=function(e,a){if(s.onerror=s.onload=null,s.removeAttribute(c),clearTimeout(v),a&&"load"!=a.type&&s.parentNode.removeChild(s),n(a),e)return e(a)};if(s.getAttribute(c)){var v=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload)}else p(void 0,{type:"load",target:s});return o&&o.getAttribute("fetchpriority")&&s.setAttribute("fetchpriority",o.getAttribute("fetchpriority")),o?document.head.insertBefore(s,o):d&&document.head.appendChild(s),s};r(t.m,0,"5940"),t.f.css=function(a,c,o){var i=t.o(e,a)?e[a]:void 0;if(0!==i)if(i)c.push(i[2]);else if(5940==a){var s=new Promise(function(t,r){i=e[a]=[t,r]});c.push(i[2]=s);var d=t.p+t.k(a),f=Error();n(a,d,function(c){if(t.o(e,a)&&(0!==(i=e[a])&&(e[a]=void 0),i))if("load"!==c.type){var n=c&&c.type,o=c&&c.target&&c.target.src;f.message="Loading css chunk "+a+" failed.\n("+n+": "+o+")",f.name="ChunkLoadError",f.type=n,f.request=o,i[1](f)}else r(t.m,a),i[0]()},void 0,o)}else e[a]=0}})(),(()=>{t.b=document.baseURI||self.location.href;var e={6143:0};t.f.j=function(a,r){var c=t.o(e,a)?e[a]:void 0;if(0!==c)if(c)r.push(c[2]);else{var n=new Promise((t,r)=>c=e[a]=[t,r]);r.push(c[2]=n);var o=t.p+t.u(a),i=Error();t.l(o,function(r){if(t.o(e,a)&&(0!==(c=e[a])&&(e[a]=void 0),c)){var n=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;i.message="Loading chunk "+a+" failed.\n("+n+": "+o+")",i.name="ChunkLoadError",i.type=n,i.request=o,c[1](i)}},"chunk-"+a,a)}},t.O.j=a=>0===e[a];var a=(a,r)=>{var c,n,[o,i,s]=r,d=0;if(o.some(a=>0!==e[a])){for(c in i)t.o(i,c)&&(t.m[c]=i[c]);if(s)var f=s(t)}for(a&&a(r);d<o.length;d++)n=o[d],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(f)},r=globalThis.webpackChunkcosmos_journeyer=globalThis.webpackChunkcosmos_journeyer||[];r.forEach(a.bind(null,0)),r.push=a.bind(null,r.push.bind(r))})(),t.ruid="bundler=rspack@1.3.13";var r=t.O(void 0,["9050","6533","946","2952","8327","3779","2424","7193","5940","8977"],function(){return t(66191)});r=t.O(r)})();