/*
 *  This file is part of Cosmos Journeyer
 *
 *  Copyright (C) 2024 Barthélemy Paléologue <barth.paleologue@cosmosjourneyer.com>
 *
 *  This program is free software: you can redistribute it and/or modify
 *  it under the terms of the GNU Affero General Public License as published by
 *  the Free Software Foundation, either version 3 of the License, or
 *  (at your option) any later version.
 *
 *  This program is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  GNU Affero General Public License for more details.
 *
 *  You should have received a copy of the GNU Affero General Public License
 *  along with this program.  If not, see <https://www.gnu.org/licenses/>.
 */

(()=>{"use strict";var e={80247:function(e,t,n){n.d(t,{Yn:()=>i});var r=n(78479),a=n(29375),o=a.Dx;function i(e,t){return(0,a.bw)(e,t)}var c=r.z.object({manual:r.z.array(r.z.record(r.z.string(),r.z.unknown())),auto:r.z.array(r.z.record(r.z.string(),r.z.unknown()))});c.extend({manual:r.z.array(o),auto:r.z.array(o)}),r.z.record(r.z.string().uuid(),c)},32133:function(e,t,n){n.d(t,{b:()=>a}),n(32075);var r,a=((r={}).INVALID_JSON="INVALID_JSON",r.INVALID_SAVE="INVALID_SAVE",r.INVALID_STORAGE_FORMAT="INVALID_STORAGE_FORMAT",r)},70541:function(e,t,n){n.d(t,{vG:()=>d});var r=n(85737),a=n(16585),o=n(76473),i=(0,a.c)(o.Z.POWER_PLAY_SEED),c=0,s=(0,r.makeNoise3D)(function(){return i(c++)}),l=(0,a.c)(o.Z.POWER_PLAY_SEED+598),u=0,f=(0,r.makeNoise3D)(function(){return l(u++)});function d(e){var t,n;return{materialistSpiritualist:(t=e.x,.5*s(.2*t,.2*e.y,.2*e.z)+.5),capitalistCommunist:(n=e.x,.5*f(.2*n,.2*e.y,.2*e.z)+.5)}}},35533:function(e,t,n){n.d(t,{U:()=>$,j:()=>q}),n(38378),n(15922);var r=n(17816),a=n(13405),o=n(94394),i=n(55710),c=n(20540),s=n(96656),l=n(84490),u=n(59908),f=n(50344),d=n(72467),p=n(6725),b=n(85265),h=n(12078),m=n(78114),v=n(51622),y=n(94080),g=n(98462),w=n(95881),P=n(34007),S=n(32235),R=n(46017),T=n(41466),A=n(33541),E=n(97132),C=n(51335),O=n(28080),k=n(885),x=n(30101),I=n(48689),M=n(67942),D=n(68098),L=n(42137),_=n(15411),N=n(12285),j=n(19189),B=n(37235),V=n(22573),G=n(78883),U=n(57699),W=n(25043),H=n(73493),Z=n(66063),F=n(2906),z=n(78093),Y=n(83177);function Q(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){n(e);return}c.done?t(s):Promise.resolve(s).then(r,a)}function q(e,t){return X.apply(this,arguments)}function X(){var e;return e=function(e,t){var n,o,i,c,s,l,u,Q,q,X,J,K,ee,et,en,er,ea,eo,ei,ec,es,el,eu,ef,ed,ep,eb,eh,em,ev,ey,eg,ew,eP,eS,eR,eT,eA,eE,eC,eO,ek,ex,eI,eM,eD,eL,e_,eN,ej,eB,eV,eG,eU,eW,eH,eZ;return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){var l=[c,s];if(n)throw TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}(this,function(eF){switch(eF.label){case 0:return n=0,o=0,i=function(r,i){var c=new Promise(function(e){var n=new a.x(i,t,!1,!1,void 0,function(){e(n)});n.name=r});return o++,c.then(function(t){return e(++n,o,t.name),t})},c=function(a,i){var c=new Promise(function(e){var n=r.B.CreateFromPrefilteredData(i,t);n.onLoadObservable.add(function(){e(n)}),n.name=a});return o++,c.then(function(t){return e(++n,o,t.name),t})},s=i("RockNormalMetallicMap",M),l=i("RockAlbedoRoughnessMap",I),u=i("GrassNormalMetallicMap",S),Q=i("GrassAlbedoRoughnessMap",P),q=i("SnowNormalMetallicMap",T),X=i("SnowAlbedoRoughness",R),J=i("SandNormalMetallicMap",L),K=i("SandAlbedoRoughnessMap",D),ee=i("WaterNormalMap1",F),et=i("WaterNormalMap2",z),en=i("PlumeParticle",Z),er=i("FlareTexture",w),ea=i("Butterfly",f),eo=i("EmptyTexture",k),ei=i("SeamlessPerlin",x),ec=c("SkyBox",_),es=i("SolarPanelAlbedo",j),el=i("SolarPanelNormal",B),eu=i("SolarPanelMetallicRoughness",N),ef=i("SpaceStationAlbedo",G),ed=i("SpaceStationNormal",W),ep=i("SpaceStationMetallicRoughness",V),eb=i("SpaceStationAmbientOcclusion",U),eh=i("MetalPanelsAlbedo",E),em=i("MetalPanelsNormal",O),ev=i("MetalPanelsMetallicRoughness",A),ey=i("MetalPanelsAmbientOcclusion",C),eg=i("TreeAlbedo",Y),ew=i("ConcreteAlbedo",m),eP=i("ConcreteNormal",g),eS=i("ConcreteMetallicRoughness",y),eR=i("ConcreteAmbientOcclusion",v),eT=i("CrateAlbedo",d),eA=i("CrateNormal",h),eE=i("CrateMetallicRoughness",b),eC=i("CrateAmbientOcclusion",p),[4,eg];case 1:return(eO=eF.sent()).hasAlpha=!0,ek={},ex={},eI={},[4,s];case 2:return eI.normalMetallic=eF.sent(),[4,l];case 3:return ex.rock=(eI.albedoRoughness=eF.sent(),eI),eM={},[4,u];case 4:return eM.normalMetallic=eF.sent(),[4,Q];case 5:return ex.grass=(eM.albedoRoughness=eF.sent(),eM),eD={},[4,q];case 6:return eD.normalMetallic=eF.sent(),[4,X];case 7:return ex.snow=(eD.albedoRoughness=eF.sent(),eD),eL={},[4,J];case 8:return eL.normalMetallic=eF.sent(),[4,K];case 9:return ek.terrains=(ex.sand=(eL.albedoRoughness=eF.sent(),eL),ex),e_={},[4,ee];case 10:return e_.normalMap1=eF.sent(),[4,et];case 11:return ek.water=(e_.normalMap2=eF.sent(),e_),eN={},[4,en];case 12:return eN.plume=eF.sent(),[4,er];case 13:return eN.flare=eF.sent(),[4,ea];case 14:return ek.particles=(eN.butterfly=eF.sent(),eN),ej={},eB={},[4,es];case 15:return eB.albedo=eF.sent(),[4,el];case 16:return eB.normal=eF.sent(),[4,eu];case 17:return ej.solarPanel=(eB.metallicRoughness=eF.sent(),eB),eV={},[4,ef];case 18:return eV.albedo=eF.sent(),[4,ed];case 19:return eV.normal=eF.sent(),[4,ep];case 20:return eV.metallicRoughness=eF.sent(),[4,eb];case 21:return ej.spaceStation=(eV.ambientOcclusion=eF.sent(),eV),eG={},[4,eh];case 22:return eG.albedo=eF.sent(),[4,em];case 23:return eG.normal=eF.sent(),[4,ev];case 24:return eG.metallicRoughness=eF.sent(),[4,ey];case 25:return ej.metalPanels=(eG.ambientOcclusion=eF.sent(),eG),eU={},[4,ew];case 26:return eU.albedo=eF.sent(),[4,eP];case 27:return eU.normal=eF.sent(),[4,eS];case 28:return eU.metallicRoughness=eF.sent(),[4,eR];case 29:return ej.concrete=(eU.ambientOcclusion=eF.sent(),eU),eW={},[4,eT];case 30:return eW.albedo=eF.sent(),[4,eA];case 31:return eW.normal=eF.sent(),[4,eE];case 32:return eW.metallicRoughness=eF.sent(),[4,eC];case 33:return ek.materials=(ej.crate=(eW.ambientOcclusion=eF.sent(),eW),ej.tree={albedo:eO},ej),eH={},[4,ec];case 34:return ek.environment=(eH.milkyWay=eF.sent(),eH),eZ={},[4,ei];case 35:return ek.noises=(eZ.seamlessPerlin=eF.sent(),eZ),ek.ui={cursorImageUrl:H},[4,eo];case 36:return[2,(ek.empty=eF.sent(),ek.pools=$(t),ek)]}})},(X=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Q(o,r,a,i,c,"next",e)}function c(e){Q(o,r,a,i,c,"throw",e)}i(void 0)})}).apply(this,arguments)}function $(e){return{cloudsLut:new l._(function(){return new o.E(e)}),ringsLut:new l._(function(){return new i.l(e)}),starMaterialLut:new l._(function(){return new s.u(e)}),telluricPlanetMaterialLut:new l._(function(){return new c.T(e)}),landingPad:new u.h}}},48678:function(e,t,n){n.d(t,{V:()=>r});var r=function(){var e;function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function")}return e=[{key:"play",value:function(){}},{key:"setVolume",value:function(){}},{key:"setMaskFactor",value:function(){}},{key:"getMask",value:function(){return 0}},{key:"dispose",value:function(){}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}()},54530:function(e,t,n){n.d(t,{cV:()=>i,k6:()=>o});var r,a=n(48678),o=((r={})[r.CLICK=0]="CLICK",r[r.HOVER=1]="HOVER",r[r.SUCCESS=2]="SUCCESS",r[r.ERROR=3]="ERROR",r[r.WARNING=4]="WARNING",r[r.INFO=5]="INFO",r[r.ENABLE_ORBIT_DISPLAY=6]="ENABLE_ORBIT_DISPLAY",r[r.DISABLE_ORBIT_DISPLAY=7]="DISABLE_ORBIT_DISPLAY",r[r.TARGET_LOCK=8]="TARGET_LOCK",r[r.TARGET_UNLOCK=9]="TARGET_UNLOCK",r[r.ITINERARY_COMPUTED=10]="ITINERARY_COMPUTED",r[r.OPEN_PAUSE_MENU=11]="OPEN_PAUSE_MENU",r[r.ENABLE_WARP_DRIVE=12]="ENABLE_WARP_DRIVE",r[r.DISABLE_WARP_DRIVE=13]="DISABLE_WARP_DRIVE",r[r.ACCELERATING_WARP_DRIVE=14]="ACCELERATING_WARP_DRIVE",r[r.DECELERATING_WARP_DRIVE=15]="DECELERATING_WARP_DRIVE",r[r.HYPER_SPACE=16]="HYPER_SPACE",r[r.THRUSTER=17]="THRUSTER",r),i=function(){var e;function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function")}return e=[{key:"playNow",value:function(){}},{key:"enqueuePlay",value:function(){}},{key:"createInstance",value:function(){return new a.V}},{key:"freeInstance",value:function(){}},{key:"setInstanceMask",value:function(){}},{key:"update",value:function(){}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}()},4761:function(e,t,n){n.d(t,{bM:()=>o,eU:()=>i,jH:()=>c});var r,a,o=((r={})[r.CHARLOTTE=0]="CHARLOTTE",r),i=((a={})[a.INITIATING_PLANETARY_LANDING=0]="INITIATING_PLANETARY_LANDING",a[a.LANDING_REQUEST_GRANTED=1]="LANDING_REQUEST_GRANTED",a[a.LANDING_COMPLETE=2]="LANDING_COMPLETE",a[a.MISSION_COMPLETE=3]="MISSION_COMPLETE",a[a.NEW_DISCOVERY=4]="NEW_DISCOVERY",a[a.CANNOT_ENGAGE_WARP_DRIVE=5]="CANNOT_ENGAGE_WARP_DRIVE",a[a.WARP_DRIVE_EMERGENCY_SHUT_DOWN=6]="WARP_DRIVE_EMERGENCY_SHUT_DOWN",a[a.WARP_DRIVE_DISENGAGED=7]="WARP_DRIVE_DISENGAGED",a[a.ENGAGING_WARP_DRIVE=8]="ENGAGING_WARP_DRIVE",a[a.FUEL_SCOOPING=9]="FUEL_SCOOPING",a[a.FUEL_SCOOPING_COMPLETE=10]="FUEL_SCOOPING_COMPLETE",a),c=function(){var e;function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function")}return e=[{key:"sayNow",value:function(){}},{key:"enqueueSay",value:function(){}},{key:"update",value:function(){}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}()},14280:function(e,t,n){n.d(t,{Iu:()=>i,QB:()=>p,Sf:()=>l,Sl:()=>h,U1:()=>c,cs:()=>f,fx:()=>v,gM:()=>d,jw:()=>s,nA:()=>u,tW:()=>m});var r=n(49226),a=n(51971),o=n(42933);function i(e,t){e.setAbsolutePosition(e.getAbsolutePosition().add(t)),e.computeWorldMatrix(!0)}function c(e,t,n){e.rotate(t,n,r.T.WORLD)}function s(e){if(null===e.rotationQuaternion)throw Error("Null quaternion for ".concat(e.name));return e.rotationQuaternion}function l(e,t){e.rotationQuaternion=t,e.computeWorldMatrix(!0)}function u(e,t){if(!t.equalsWithEpsilon(e.up,1e-7)){var n=e.up;c(e,a.P.Cross(t,n),-Math.acos(a.P.Dot(t,n)))}}function f(e){return e.getDirection(o.F.FORWARD)}function d(e){return e.getDirection(o.F.UP)}function p(e){return b(e).negate()}function b(e){return e.getDirection(o.F.LEFT)}function h(e,t){c(e,f(e),t)}function m(e,t){c(e,b(e),t)}function v(e,t){c(e,d(e),t)}},18722:function(e,t,n){n.a(e,async function(e,t){try{n(41808),n(447);var r,a=n(9844),o=n(96775),i=n(33375),c=document.getElementById("renderer");c.width=window.innerWidth,c.height=window.innerHeight;var s=new o.a(c),l=new a.Engine(c,!0);l.useReverseDepthBuffer=!0,l.loadingScreen=s,l.displayLoadingUI();var u=new URLSearchParams(window.location.search),f=null!=(r=u.get("scene"))?r:"",d=new i.j().get(f),p=await d(l,function(e,t){s.setProgressPercentage(100*e),s.loadingUIText=t});if(null!==u.get("debug")){var b=document.createElement("div");document.body.appendChild(b),b.id="inspectorLayer",await p.debugLayer.show({globalRoot:b})}if(null!==u.get("physicsViewer")){var h=new a.PhysicsViewer(p);p.onBeforeRenderObservable.add(function(){var e=!0,t=!1,n=void 0;try{for(var r,a=p.meshes[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var o=r.value.physicsBody;o&&h.showBody(o)}}catch(e){t=!0,n=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}})}var m=u.get("freeze"),v=Number(m);if(null!==m&&!isNaN(v)){var y=0;p.onAfterRenderObservable.add(function(){if(++y>=v){l.stopRenderLoop(),c.dataset.frozen="1";return}})}p.onAfterRenderObservable.addOnce(function(){c.dataset.ready="1"}),p.executeWhenReady(function(){l.loadingScreen.hideLoadingUI(),l.runRenderLoop(function(){p.render()})}),window.addEventListener("resize",function(){c.width=window.innerWidth,c.height=window.innerHeight,l.resize(!0)}),document.addEventListener("keypress",function(e){"p"===e.key&&null!==p.activeCamera&&a.Tools.CreateScreenshot(l,p.activeCamera,{precision:1})}),window.scene=p,t()}catch(e){t(e)}},1)},33375:function(e,t,n){n.d(t,{j:()=>tj});var r=n(9844),a=n(57947),o=n(55104),i=n(77054);function c(e,t){var n,c=new r.Scene(e);c.useRightHandedSystem=!0;var s=new URLSearchParams(window.location.search),l=new r.ArcRotateCamera("ArcRotateCamera",0,3.14/3,30,r.Vector3.Zero(),c);l.attachControl(),l.lowerRadiusLimit=.5,l.wheelPrecision*=100,l.minZ=.01;var u=c.enableDepthRenderer(null,!1,!0),f=(0,a.c)("juliaSet",Number(null!=(n=s.get("seed"))?n:1e5*Math.random()),"Julia Set",[]),d=new i.W(f,c);d.getTransform().scalingDeterminant=1e-5;var p=new o.v(d.getTransform(),d.getBoundingRadius(),f.accentColor,c,[]);return c.cameras.forEach(function(e){return e.attachPostProcess(p)}),c.onNewCameraAddedObservable.add(function(e){e.attachPostProcess(p)}),c.onBeforeRenderObservable.add(function(){var t=e.getDeltaTime()/1e3;p.update(t)}),c.onBeforeCameraRenderObservable.add(function(e){u.getDepthMap().activeCamera=e}),t(1,"Loading complete"),Promise.resolve(c)}var s=n(25178),l=n(20678);function u(e,t){var n,a=new r.Scene(e);a.useRightHandedSystem=!0;var o=new URLSearchParams(window.location.search),c=new r.ArcRotateCamera("ArcRotateCamera",0,3.14/3,5,r.Vector3.Zero(),a);c.attachControl(),c.lowerRadiusLimit=.5,c.wheelPrecision*=100,c.minZ=.01;var u=a.enableDepthRenderer(null,!1,!0),f=(0,s.i)("mandelbox",Number(null!=(n=o.get("seed"))?n:1e5*Math.random()),"Mandelbox",[]),d=new i.W(f,a);d.getTransform().scalingDeterminant=1e-5;var p=new l.m(d.getTransform(),d.getBoundingRadius(),f,a,[]);return a.cameras.forEach(function(e){return e.attachPostProcess(p)}),a.onNewCameraAddedObservable.add(function(e){e.attachPostProcess(p)}),a.onBeforeRenderObservable.add(function(){var t=e.getDeltaTime()/1e3;p.update(t)}),a.onBeforeCameraRenderObservable.add(function(e){u.getDepthMap().activeCamera=e}),t(1,"Loading complete"),Promise.resolve(a)}var f=n(76106),d=n(75122);function p(e,t){var n,a=new r.Scene(e);a.useRightHandedSystem=!0;var o=new URLSearchParams(window.location.search),c=new r.ArcRotateCamera("ArcRotateCamera",0,3.14/3,30,r.Vector3.Zero(),a);c.attachControl(),c.lowerRadiusLimit=.5,c.wheelPrecision*=100,c.minZ=.01;var s=a.enableDepthRenderer(null,!1,!0),l=(0,f.i)("mandelbulb",Number(null!=(n=o.get("seed"))?n:1e5*Math.random()),"Mandelbulb",[]),u=new i.W(l,a);u.getTransform().scalingDeterminant=1e-5;var p=new d.C(u.getTransform(),u.getBoundingRadius(),l,a,[]);return a.cameras.forEach(function(e){return e.attachPostProcess(p)}),a.onNewCameraAddedObservable.add(function(e){e.attachPostProcess(p)}),a.onBeforeRenderObservable.add(function(){var t=e.getDeltaTime()/1e3;p.update(t)}),a.onBeforeCameraRenderObservable.add(function(e){s.getDepthMap().activeCamera=e}),t(1,"Loading complete"),Promise.resolve(a)}var b=n(97343),h=n(59209);function m(e,t){var n,a=new r.Scene(e);a.useRightHandedSystem=!0;var o=new URLSearchParams(window.location.search),c=new r.ArcRotateCamera("ArcRotateCamera",0,3.14/3,5,r.Vector3.Zero(),a);c.attachControl(),c.lowerRadiusLimit=.5,c.wheelPrecision*=100,c.minZ=.01;var s=a.enableDepthRenderer(null,!1,!0),l=(0,b.$)("mengerSponge",Number(null!=(n=o.get("seed"))?n:1e5*Math.random()),"Menger Sponge",[]),u=new i.W(l,a);u.getTransform().scalingDeterminant=1e-5;var f=new h.x(u.getTransform(),u.getBoundingRadius(),l,a,[]);return a.cameras.forEach(function(e){return e.attachPostProcess(f)}),a.onNewCameraAddedObservable.add(function(e){e.attachPostProcess(f)}),a.onBeforeRenderObservable.add(function(){var t=e.getDeltaTime()/1e3;f.update(t)}),a.onBeforeCameraRenderObservable.add(function(e){s.getDepthMap().activeCamera=e}),t(1,"Loading complete"),Promise.resolve(a)}var v=n(51056),y=n(48757);function g(e,t){var n,a=new r.Scene(e);a.useRightHandedSystem=!0;var o=new URLSearchParams(window.location.search),c=new r.ArcRotateCamera("ArcRotateCamera",0,3.14/3,5,r.Vector3.Zero(),a);c.attachControl(),c.lowerRadiusLimit=.5,c.wheelPrecision*=100,c.minZ=.01;var s=a.enableDepthRenderer(null,!1,!0),l=(0,v.q)("sierpinski",Number(null!=(n=o.get("seed"))?n:1e5*Math.random()),"Sierpinski Pyramid",[]),u=new i.W(l,a);u.getTransform().scalingDeterminant=1e-5;var f=new y.U(u.getTransform(),u.getBoundingRadius(),l,a,[]);return a.cameras.forEach(function(e){return e.attachPostProcess(f)}),a.onNewCameraAddedObservable.add(function(e){e.attachPostProcess(f)}),a.onBeforeRenderObservable.add(function(){var t=e.getDeltaTime()/1e3;f.update(t)}),a.onBeforeCameraRenderObservable.add(function(e){s.getDepthMap().activeCamera=e}),t(1,"Loading complete"),Promise.resolve(a)}var w=n(15477),P=n(98201),S=n(93019),R=n(82866);n(14199);var T=n(51971),A=n(64428),E=n(72392);function C(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){n(e);return}c.done?t(s):Promise.resolve(s).then(r,a)}function O(e){return k.apply(this,arguments)}function k(){var e;return e=function(e){var t,n,r,a,o,i,c=arguments;return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){var l=[c,s];if(n)throw TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}(this,function(s){switch(s.label){case 0:if(t=c.length>1&&void 0!==c[1]?c[1]:T.P.Zero(),n=c.length>2?c[2]:void 0,a=A.a.bind,o=[void 0,!0],null==n)return[3,1];return i=n,[3,3];case 1:return[4,(0,E.Z)()];case 2:i=s.sent(),s.label=3;case 3:return r=new(a.apply(A.a,o.concat([i]))),e.enablePhysics(t,r),[2,r]}})},(k=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){C(o,r,a,i,c,"next",e)}function c(e){C(o,r,a,i,c,"throw",e)}i(void 0)})}).apply(this,arguments)}function x(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){n(e);return}c.done?t(s):Promise.resolve(s).then(r,a)}function I(e,t){return M.apply(this,arguments)}function M(){var e;return e=function(e,t){var n,a,o,i,c,s,l;return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){var l=[c,s];if(n)throw TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}(this,function(u){switch(u.label){case 0:return(n=new r.Scene(e)).useRightHandedSystem=!0,[4,O(n)];case 1:return u.sent(),(o=(a=new P.Q(n)).getActiveCamera()).attachControl(),n.enableDepthRenderer(o,!1,!0),[4,(0,w.v)(function(e,n,r){t(e/n,"Loading ".concat(r))},n)];case 2:return i=u.sent(),new r.DirectionalLight("sun",new r.Vector3(1,-1,0),n).intensity=.7,new r.HemisphericLight("hemi",r.Vector3.Up(),n).intensity=.4,a.getTransform().position.z=-6e4,a.getTransform().position.y=2500,a.speed*=500,o.maxZ*=500,c=r.MeshBuilder.CreateSphere("sphere",{diameter:1e4},n),new r.PhysicsAggregate(c,r.PhysicsShapeType.SPHERE,{mass:0},n),R.c.BATCH_SIZE=1e4,s=new S.K(42,c,5e4,1e4,n),(l=r.MeshBuilder.CreateTorus("torus",{diameter:1e5,thickness:2e4,tessellation:32},n)).visibility=.1,l.parent=c,l.scaling.y=2e-4,n.onBeforeRenderObservable.add(function(){a.update(e.getDeltaTime()/1e3),s.update(a.getTransform().getAbsolutePosition(),i.objects,e.getDeltaTime()/1e3)}),[2,n]}})},(M=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){x(o,r,a,i,c,"next",e)}function c(e){x(o,r,a,i,c,"throw",e)}i(void 0)})}).apply(this,arguments)}var D=n(3895),L=n(6999),_=n(30017);function N(e,t){var n=new D.x(e);n.useRightHandedSystem=!0;var a=new P.Q(n),o=a.getActiveCamera();a.speed=6e6,o.maxZ*=6e6,a.getTransform().setAbsolutePosition(new r.Vector3(0,1,-2).scaleInPlace(6e6)),a.getTransform().lookAt(r.Vector3.Zero()),o.attachControl(),n.enableDepthRenderer(null,!1,!0);var i=new r.PointLight("light1",new r.Vector3(6e7,0,0),n),c=r.MeshBuilder.CreateSphere("sphere",{diameter:12e6,segments:64},n),s=new L.r(6e6,1e5),l=new _.C(c,6e6,s,[i],n);return o.attachPostProcess(l),n.onBeforeRenderObservable.add(function(){var e=n.getEngine().getDeltaTime()/1e3;a.update(e);var t=a.getTransform().position.clone();a.getTransform().position=r.Vector3.Zero(),c.position.subtractInPlace(t)}),t(1,"Rings scene loaded"),Promise.resolve(n)}var j=n(67975),B=n(78626),V=n(84787),G=n(54530),U=n(2855),W=n(43161),H=n(76473);function Z(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){n(e);return}c.done?t(s):Promise.resolve(s).then(r,a)}function F(e,t){return z.apply(this,arguments)}function z(){var e;return e=function(e,t){var n,a,o,i,c,s,l,u;return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){var l=[c,s];if(n)throw TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}(this,function(f){switch(f.label){case 0:return(n=new D.x(e)).useRightHandedSystem=!0,[4,O(n)];case 1:return f.sent(),[4,(0,w.v)(function(e,n,r){t(e/n,"Loading ".concat(r))},n)];case 2:return a=f.sent(),o=new G.cV,(i=U.O.CreateDefault(n,a,o)).getTransform().position.copyFromFloats((0,B.randRange)(-50,50,Math.random,0),(0,B.randRange)(30,50,Math.random,0),(0,B.randRange)(-50,50,Math.random,0)),i.getTransform().rotationQuaternion=r.Quaternion.Random().normalize(),(c=new P.Q(n)).getTransform().position.copyFromFloats(0,10,-50),c.speed*=10,(s=c.getActiveCamera()).minZ=.1,s.attachControl(),new V.X(42,W.g.SMALL,a,n),(l=r.MeshBuilder.CreateBox("ground",{width:100,height:1,depth:100},n)).position.y=-2,l.position.x=75,(u=new r.PhysicsAggregate(l,r.PhysicsShapeType.BOX,{mass:0},n)).shape.filterMembershipMask=H.k.ENVIRONMENT,u.shape.filterCollideMask=H.k.DYNAMIC_OBJECTS,new j.e("hemi",T.P.Up(),n).intensity=.7,i.engageSurfaceLanding(l),n.onBeforeRenderObservable.add(function(){var t=e.getDeltaTime()/1e3;i.update(t),c.update(t)}),[2,n]}})},(z=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Z(o,r,a,i,c,"next",e)}function c(e){Z(o,r,a,i,c,"throw",e)}i(void 0)})}).apply(this,arguments)}var Y=n(78681),Q=n(52653);function q(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){n(e);return}c.done?t(s):Promise.resolve(s).then(r,a)}function X(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){q(o,r,a,i,c,"next",e)}function c(e){q(o,r,a,i,c,"throw",e)}i(void 0)})}}function $(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){var l=[c,s];if(n)throw TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}function J(e,t){return K.apply(this,arguments)}function K(){return(K=X(function(e,t){var n,a,o,i,c,s,l,u,f;return $(this,function(d){switch(d.label){case 0:return(a=new D.x(e)).useRightHandedSystem=!0,[4,O(a,new T.P(0,-9.81,0))];case 1:return d.sent(),null==(n=e.getRenderingCanvas())||n.addEventListener("click",X(function(){var t;return $(this,function(n){switch(n.label){case 0:return[4,null==(t=e.getRenderingCanvas())?void 0:t.requestPointerLock()];case 1:return n.sent(),[2]}})})),[4,(0,w.v)(function(e,n,r){t(e/n,"Loading ".concat(r))},a)];case 2:var p,b;if(o=d.sent(),(i=new r.DirectionalLight("dir01",new T.P(1,-2,-1),a)).position=new T.P(5,5,5).scaleInPlace(10),new r.HemisphericLight("hemi",new T.P(0,1,0),a).intensity=.5,(c=new r.ShadowGenerator(1024,i)).useBlurExponentialShadowMap=!0,p=s=o.objects.character.instantiateHierarchy(null),null!=(b=r.AbstractMesh)&&"undefined"!=typeof Symbol&&b[Symbol.hasInstance]?!b[Symbol.hasInstance](p):!(p instanceof b))throw Error("Character object is null");return(l=new Y.J(s,a)).getTransform().position.y=30,l.getActiveCamera().attachControl(),Q.V.setEnabled(!0),c.addShadowCaster(l.character),u=r.MeshBuilder.CreateIcoSphere("ground",{radius:20},a),new r.PhysicsAggregate(u,r.PhysicsShapeType.MESH,{mass:0},a),(f=new r.PBRMetallicRoughnessMaterial("groundMaterial",a)).baseColor=new r.Color3(.5,.5,.5),u.material=f,u.receiveShadows=!0,l.setClosestWalkableObject({getTransform:function(){return u}}),a.onBeforeRenderObservable.add(function(){if(l.getActiveCamera()!==a.activeCamera){null==(t=a.activeCamera)||t.detachControl();var t,n=l.getActiveCamera();n.attachControl(),a.activeCamera=n}var r=e.getDeltaTime()/1e3;l.update(r)}),[2,a]}})})).apply(this,arguments)}var ee=n(50137),et=n(35533),en=n(14373);function er(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){n(e);return}c.done?t(s):Promise.resolve(s).then(r,a)}function ea(e,t){return eo.apply(this,arguments)}function eo(){var e;return e=function(e,t){var n,a,o,i,c,s;return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){var l=[c,s];if(n)throw TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}(this,function(l){switch(l.label){case 0:return(n=new r.Scene(e)).useRightHandedSystem=!0,[4,(0,et.j)(function(e,n,r){t(e/n,"Loading ".concat(r))},n)];case 1:return a=l.sent(),n.environmentTexture=a.environment.milkyWay,(i=(o=new P.Q(n)).getActiveCamera()).attachControl(),n.enableDepthRenderer(),new r.HemisphericLight("light1",new r.Vector3(0,1,0),n).intensity=.7,o.speed=s=(c=new en.c((0,ee.C)([]),n)).getBoundingRadius(),i.maxZ*=s,o.getTransform().setAbsolutePosition(new r.Vector3(0,1,-2).scaleInPlace(s)),o.getTransform().lookAt(r.Vector3.Zero()),n.onBeforeRenderObservable.add(function(){var e=n.getEngine().getDeltaTime()/1e3;o.update(e);var t=o.getTransform().position.clone();o.getTransform().position=r.Vector3.Zero(),c.getTransform().position.subtractInPlace(t)}),t(1,"Rings scene loaded"),[2,n]}})},(eo=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){er(o,r,a,i,c,"next",e)}function c(e){er(o,r,a,i,c,"throw",e)}i(void 0)})}).apply(this,arguments)}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ec(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){n(e);return}c.done?t(s):Promise.resolve(s).then(r,a)}function es(e,t){return el.apply(this,arguments)}function el(){var e;return e=function(e,t){var n,a,o,i,c,s,l,u,f,d,p,b,h,m,v,y,g,P,S,R,A,E,C,k,x;return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){var l=[c,s];if(n)throw TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}(this,function(I){switch(I.label){case 0:return(n=new D.x(e)).useRightHandedSystem=!0,[4,O(n)];case 1:return I.sent(),[4,(0,w.v)(function(e,n,r){t(e/n,"Loading ".concat(r))},n)];case 2:I.sent(),(a=new r.FreeCamera("camera",new T.P(0,1,-1).scale(15),n)).setTarget(T.P.Zero()),a.attachControl(),new r.PointLight("light",new T.P(0,100,-10),n),new j.e("hemisphericLight",new T.P(0,1,0),n).intensity=.5,o=0,i=!0,c=!1,s=void 0;try{for(l=n.meshes[Symbol.iterator]();!(i=(u=l.next()).done);i=!0)(f=u.value).isVisible=!0,null===f.parent&&(o++,d=f.getHierarchyBoundingVectors(),p=Math.max(d.max.x-d.min.x,d.max.y-d.min.y,d.max.z-d.min.z),f.scaling.scaleInPlace(1/p),f.position=new T.P(10+o%10-5,0,Math.floor(o/10)-5))}catch(e){c=!0,s=e}finally{try{i||null==l.return||l.return()}finally{if(c)throw s}}b=n.transformNodes.slice(),h=!0,m=!1,v=void 0;try{for(y=b[Symbol.iterator]();!(h=(g=y.next()).done);h=!0)g.value.instantiateHierarchy()}catch(e){m=!0,v=e}finally{try{h||null==y.return||y.return()}finally{if(m)throw v}}P=!0,S=!1,R=void 0;try{for(A=n.textures.entries()[Symbol.iterator]();!(P=(E=A.next()).done);P=!0){var M;M=E.value,k=(C=function(e){if(Array.isArray(e))return e}(M)||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(M,2)||function(e,t){if(e){if("string"==typeof e)return ei(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ei(e,t)}}(M,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],x=C[1],function(e,t){var a=r.MeshBuilder.CreateGround("plane",{width:.9,height:.9},n),o=new r.StandardMaterial("material",n);o.emissiveTexture=e,o.disableLighting=!0,o.specularColor.scaleInPlace(0),a.position=t,a.material=o}(x,new T.P(k%10-5,0,Math.floor(k/10)-5))}}catch(e){S=!0,R=e}finally{try{P||null==A.return||A.return()}finally{if(S)throw R}}return[2,n]}})},(el=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){ec(o,r,a,i,c,"next",e)}function c(e){ec(o,r,a,i,c,"throw",e)}i(void 0)})}).apply(this,arguments)}function eu(e,t){var n=new D.x(e),a=new r.FreeCamera("camera1",new r.Vector3(0,5,-10),n);return a.setTarget(r.Vector3.Zero()),a.attachControl(),new r.HemisphericLight("light1",new r.Vector3(0,1,0),n).intensity=.7,r.MeshBuilder.CreateSphere("sphere",{diameter:2,segments:32},n).position.y=1,r.MeshBuilder.CreateGround("ground",{width:6,height:6},n),t(1,"Loaded default scene"),Promise.resolve(n)}var ef=n(4761),ed=n(60480),ep=n(11508);function eb(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){n(e);return}c.done?t(s):Promise.resolve(s).then(r,a)}function eh(e,t){return em.apply(this,arguments)}function em(){var e;return e=function(e,t){var n,a,o,i,c,s,l,u,f,d,p;return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){var l=[c,s];if(n)throw TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}(this,function(b){switch(b.label){case 0:return(n=new D.x(e)).useRightHandedSystem=!0,n.defaultCursor="crosshair",[4,O(n)];case 1:return b.sent(),[4,(0,w.v)(function(e,n,r){t(e/n,"Loading ".concat(r))},n)];case 2:return a=b.sent(),o=new G.cV,i=new ef.jH,(s=(c=ed.y.CreateDefault(n,a,i,o)).getActiveCamera()).minZ=.1,s.attachControl(),n.activeCamera=s,ep.m.setEnabled(!0),new j.e("hemi",T.P.Up(),n).intensity=1,l=r.MeshBuilder.CreateBox("box",{size:50},n),u=new r.SolidParticleSystem("boxes",n,{updatable:!1}),f=function(e,t){return Math.random()*(t-e)+e},u.addShape(l,1e4,{positionFunction:function(e){e.position=new T.P(f(-1,1),f(-1,1),f(-1,1)).scaleInPlace(5e3)}}),d=u.buildMesh(),(p=new r.PBRMetallicRoughnessMaterial("material",n)).baseColor=new r.Color3(.5,.5,.5),p.metallic=0,p.roughness=.5,d.material=p,l.setEnabled(!1),n.onBeforeRenderObservable.add(function(){var t=e.getDeltaTime()/1e3;c.update(t)}),[2,n]}})},(em=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){eb(o,r,a,i,c,"next",e)}function c(e){eb(o,r,a,i,c,"throw",e)}i(void 0)})}).apply(this,arguments)}var ev=n(85492),ey=n(49226),eg=n(97451);function ew(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){n(e);return}c.done?t(s):Promise.resolve(s).then(r,a)}function eP(e,t){return eS.apply(this,arguments)}function eS(){var e;return e=function(e,t){var n,r,a,o,i;return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){var l=[c,s];if(n)throw TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}(this,function(c){switch(c.label){case 0:return(n=new D.x(e)).useRightHandedSystem=!0,[4,O(n)];case 1:return c.sent(),(a=(r=new P.Q(n)).getActiveCamera()).attachControl(),n.enableDepthRenderer(a,!1,!0),[4,(0,et.j)(function(e,n,r){t(e/n,"Loading ".concat(r))},n)];case 2:return o=c.sent(),new ev.O("sun",new T.P(1,-1,0),n).intensity=.7,i=new eg.$(ey.RD.Z,n,o.noises),n.onBeforeRenderObservable.add(function(){r.update(e.getDeltaTime()/1e3),i.update(e.getDeltaTime()/1e3)}),[2,n]}})},(eS=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){ew(o,r,a,i,c,"next",e)}function c(e){ew(o,r,a,i,c,"throw",e)}i(void 0)})}).apply(this,arguments)}var eR=n(55272),eT=n(60892),eA=n(31872),eE=n(39745),eC=n(57420);function eO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ek=function(){var e;function t(e,n){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");eO(this,"_transform",void 0),eO(this,"model",void 0),eO(this,"type",void 0),eO(this,"boundingRadius",void 0),this._transform=e,this._transform.rotationQuaternion=T._f.Identity(),this.model=n,this.type=n.type;var r=this.getTransform().getHierarchyBoundingVectors();this.boundingRadius=r.max.subtract(r.min).length()/2}return e=[{key:"getTransform",value:function(){return this._transform}},{key:"getBoundingRadius",value:function(){return this.boundingRadius}},{key:"getTypeName",value:function(){return"Wrapped Orbital Object"}},{key:"dispose",value:function(){this.getTransform().dispose()}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),ex=n(47015);function eI(e,t){var n=new D.x(e);n.useRightHandedSystem=!0;var r=new P.Q(n),a=r.getActiveCamera();a.minZ=.1,a.attachControl(),new j.e("hemi",T.P.Up(),n).intensity=1;var o=new ek(eR.V.CreateSphere("sun",{diameter:1},n),{id:"sun",name:"Sun",orbit:{parentIds:[],argumentOfPeriapsis:0,semiMajorAxis:0,initialMeanAnomaly:0,longitudeOfAscendingNode:0,inclination:0,eccentricity:0,p:2},type:eA.o.CUSTOM,axialTilt:0,mass:1e12,siderealDaySeconds:0}),i=new ek(eR.V.CreateSphere("earth",{diameter:.5},n),{id:"earth",name:"Earth",orbit:{parentIds:[o.model.id],argumentOfPeriapsis:0,semiMajorAxis:10,initialMeanAnomaly:0,longitudeOfAscendingNode:1.7,inclination:eT.w1.ToRadians(23.5),eccentricity:.5,p:2},type:eA.o.CUSTOM,axialTilt:eT.w1.ToRadians(23.5),mass:1e11,siderealDaySeconds:0}),c=new ek(eR.V.CreateSphere("moon",{diameter:.2},n),{id:"moon",name:"Moon",orbit:{parentIds:[i.model.id],argumentOfPeriapsis:0,semiMajorAxis:3,initialMeanAnomaly:0,longitudeOfAscendingNode:0,inclination:i.model.orbit.inclination+i.model.axialTilt,eccentricity:.7,p:2},type:eA.o.CUSTOM,mass:1e10,axialTilt:0,siderealDaySeconds:0}),s=[o,i,c],l=new Map;l.set(i,[o]),l.set(c,[i]);var u=new ex.B;u.setOrbitalObjects(s,n),u.setVisibility(!0);var f=new eC.Y;f.setVisibility(!0),f.setOrbitalObjects(s,n);var d=T.y3.Identity(),p=T.y3.Identity(),b=0;return r.getTransform().setAbsolutePosition(new T.P(0,0,-10)),r.getTransform().lookAt(T.P.Zero()),n.onBeforeRenderObservable.add(function(){var t,n,a=e.getDeltaTime()/1e3;b+=a,r.update(a),T.y3.FromQuaternionToRef(null!=(n=null==(t=r.getTransform().rotationQuaternion)?void 0:t.clone().invertInPlace())?n:T._f.Identity(),p),r.getTransform().rotationQuaternion=T._f.Identity(),r.getTransform().computeWorldMatrix(!0),d.multiplyToRef(p,d),s.forEach(function(e){var t;(0,eE.PF)(e,null!=(t=l.get(e))?t:[],d,b),(0,eE.L$)(e,d,b)}),u.update(d)}),t(1,"Loading complete"),Promise.resolve(n)}var eM=n(55710),eD=n(54944),eL=n(21132),e_=n(84490);function eN(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){n(e);return}c.done?t(s):Promise.resolve(s).then(r,a)}function ej(e,t){return eB.apply(this,arguments)}function eB(){var e;return e=function(e,t){var n,a,o,i,c,s,l,u,f;return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){var l=[c,s];if(n)throw TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}(this,function(d){switch(d.label){case 0:return(n=new D.x(e)).useRightHandedSystem=!0,a=1e7,i=(o=new P.Q(n)).getActiveCamera(),o.speed=a,i.maxZ*=a,o.getTransform().setAbsolutePosition(new r.Vector3(0,5,-10).scaleInPlace(a)),o.getTransform().lookAt(r.Vector3.Zero()),i.attachControl(),n.enableDepthRenderer(),new r.HemisphericLight("light1",new r.Vector3(0,1,0),n).intensity=.7,c=r.MeshBuilder.CreateSphere("sphere",{diameter:2*a,segments:32},n),s=new e_._(function(){return new eM.l(n)}),l={ringStart:1.7,ringEnd:3.5,ringFrequency:5,ringOpacity:.9,ringColor:r.Color3.White(),seed:0},u=new eL.fv(l,0,s,n),[4,new Promise(function(e){u.lut.getTexture().executeWhenReady(function(){e()})})];case 1:return d.sent(),f=new eD.e(c,u,{name:"Sphere",radius:+a},[],n),i.attachPostProcess(f),n.onBeforeRenderObservable.add(function(){var e=n.getEngine().getDeltaTime()/1e3;o.update(e);var t=o.getTransform().position.clone();o.getTransform().position=r.Vector3.Zero(),c.position.subtractInPlace(t)}),t(1,"Rings scene loaded"),[2,n]}})},(eB=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){eN(o,r,a,i,c,"next",e)}function c(e){eN(o,r,a,i,c,"throw",e)}i(void 0)})}).apply(this,arguments)}var eV=n(96948),eG=n(47599),eU=n(92099),eW=n(19346),eH=n(47608);function eZ(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){n(e);return}c.done?t(s):Promise.resolve(s).then(r,a)}function eF(e,t){return ez.apply(this,arguments)}function ez(){var e;return e=function(e,t){var n,r,a,o,i,c,s,l,u,f,d;return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){var l=[c,s];if(n)throw TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}(this,function(p){switch(p.label){case 0:return(n=new D.x(e)).useRightHandedSystem=!0,[4,O(n)];case 1:return p.sent(),[4,(0,w.v)(function(e,n,r){t(e/n,"Loading ".concat(r))},n)];case 2:return r=p.sent(),(a=new P.Q(n)).speed=2e3,(o=a.getActiveCamera()).maxZ=1e5*H.Z.EARTH_RADIUS,o.attachControl(),i=H.Z.AU,a.getTransform().setAbsolutePosition(new T.P(0,2,-3).normalize().scaleInPlace(4e4)),a.getTransform().lookAt(T.P.Zero()),c={starSectorX:0,starSectorY:0,starSectorZ:0,localX:0,localY:0,localZ:0},s=new eU.Z((0,eV.D)()).getSystemGalacticPosition(c),l={type:eA.o.STAR,id:"PGStar",name:"PG Star",blackBodyTemperature:5778,mass:H.Z.SOLAR_MASS,radius:H.Z.SOLAR_RADIUS,orbit:{p:2,argumentOfPeriapsis:0,semiMajorAxis:0,eccentricity:0,longitudeOfAscendingNode:0,inclination:0,initialMeanAnomaly:0,parentIds:[]},siderealDaySeconds:0,axialTilt:0,seed:0,rings:null},(u=new eH.U(l,r.textures.pools,n)).getTransform().position=new T.P(7,2,5).normalize().scaleInPlace(i),(f=(0,eG.z)("station",Math.random()*H.Z.SEED_HALF_RANGE,c,s,[l])).orbit.semiMajorAxis=i,d=new eW.f(f,new Map([[l,i]]),r,n),n.onBeforePhysicsObservable.add(function(){var t=e.getDeltaTime()/1e3;a.update(t);var n=o.globalPosition;d.update([u],n,t)}),[2,n]}})},(ez=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){eZ(o,r,a,i,c,"next",e)}function c(e){eZ(o,r,a,i,c,"throw",e)}i(void 0)})}).apply(this,arguments)}var eY=n(46060),eQ=n(70620),eq=n(80316),eX=n(32075);function e$(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){n(e);return}c.done?t(s):Promise.resolve(s).then(r,a)}function eJ(e,t){return eK.apply(this,arguments)}function eK(){var e;return e=function(e,t){var n,r,a,o,i,c,s,l,u,f,d,p,b;return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){var l=[c,s];if(n)throw TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}(this,function(h){switch(h.label){case 0:return(n=new D.x(e)).useRightHandedSystem=!0,[4,O(n)];case 1:return h.sent(),[4,(0,eX.L)()];case 2:return h.sent(),[4,(0,w.v)(function(e,n,r){t(e/n,"Loading ".concat(r))},n)];case 3:if(r=h.sent(),a=new G.cV,o=new ef.jH,i=new eU.Z((0,eV.D)()),void 0===(s=(c=eQ.J.Default(i)).serializedSpaceships.shift()))throw Error("No spaceship found in player data");if(l=U.O.Deserialize(s,c.spareSpaceshipComponents,n,r,a),c.instancedSpaceships.push(l),(u=new ed.y(l,n,a,o).thirdPersonCamera).attachControl(),n.activeCamera=u,f=i.fallbackSystem,d=new eY.t,p=new eq.L(c,d,i,a),void 0===(b=f.orbitalFacilities[0]))throw Error("No station found in system model");return p.setStation(b,[],c),p.setVisibility(!0),[2,n]}})},(eK=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){e$(o,r,a,i,c,"next",e)}function c(e){e$(o,r,a,i,c,"throw",e)}i(void 0)})}).apply(this,arguments)}var e0=n(87158),e1=n(70618);function e2(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){n(e);return}c.done?t(s):Promise.resolve(s).then(r,a)}function e3(e,t){return e4.apply(this,arguments)}function e4(){var e;return e=function(e,t){var n,r,a,o,i;return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){var l=[c,s];if(n)throw TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}(this,function(c){switch(c.label){case 0:return[4,(0,eX.L)()];case 1:return c.sent(),n=new eU.Z((0,eV.D)()),r=eQ.J.Default(n),a=new e0.O(n),o=new G.cV,(i=new e1.s(r,e,a,n,o)).setCurrentStarSystem(n.fallbackSystem.coordinates),t(1,"Loaded star map"),[2,i.scene]}})},(e4=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){e2(o,r,a,i,c,"next",e)}function c(e){e2(o,r,a,i,c,"throw",e)}i(void 0)})}).apply(this,arguments)}var e5=n(35263),e6=n(89662),e7=n(76929),e8=n(67810),e9=n(6478),te=n(42328),tt=n(33778),tn=n(67313),tr=n(24660);function ta(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){n(e);return}c.done?t(s):Promise.resolve(s).then(r,a)}function to(e,t){return ti.apply(this,arguments)}function ti(){var e;return e=function(e,t){var n,a,o,i,c,s,l,u,f;return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){var l=[c,s];if(n)throw TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}(this,function(d){switch(d.label){case 0:return[4,(0,eX.L)()];case 1:var p,b,h,m,v,y,g;return d.sent(),n=new eU.Z((p={starSectorX:0,starSectorY:1,starSectorZ:0,localX:0,localY:0,localZ:0},(b=(0,e7.dD)("star0",420,"Weierstrass",[])).blackBodyTemperature=5778,(h=(0,e8.$)("hecate",253,"H\xe9cate",[b])).temperature.min=(0,e5.P1)(-40),h.temperature.max=(0,e5.P1)(30),h.orbit.semiMajorAxis=21e3*h.radius,m=(0,eG.z)("hecate->station",0,p,r.Vector3.Zero(),[h]),(v=(0,e9.u)("hecate->manaleth",23,"Manaleth",[h])).orbit.inclination=eT.w1.ToRadians(45),v.orbit.semiMajorAxis=(0,e5.at)(v.siderealDaySeconds,h.mass),null!==(y=(0,e8.$)("ares",.3725,"Ares",[b])).clouds&&(y.clouds.coverage=1),null!==y.atmosphere&&(y.atmosphere.pressure=.5*H.Z.EARTH_SEA_LEVEL_PRESSURE),y.orbit.semiMajorAxis=25100*h.radius,(g=(0,e6.L)("andromaque",.28711440474126226,"Andromaque",[b])).orbit.semiMajorAxis=25300*h.radius,g.orbit.eccentricity=.8,{name:"Alpha Testis",coordinates:p,stellarObjects:[b],planets:[h,y,g],satellites:[v],anomalies:[],orbitalFacilities:[m]})),a=eQ.J.Default(n),o=new eY.t,i=new G.cV,c=new ef.jH,(s=new tt.E(e)).useRightHandedSystem=!0,[4,O(s)];case 2:return l=d.sent(),[4,(0,w.v)(function(e,n,r){t(e/n,"Loading ".concat(r))},s)];case 3:return u=d.sent(),[4,(f=new te.p(s,a,e,l,o,n,i,c,u)).resetPlayer()];case 4:return d.sent(),[4,f.switchToSpaceshipControls()];case 5:return d.sent(),[4,f.loadStarSystem(n.fallbackSystem)];case 6:return d.sent(),f.initStarSystem(),(0,tr.pl)(f.getSpaceshipControls(),f.getStarSystem().getStellarObjects()[0],f.getStarSystem()),s.onBeforeRenderObservable.add(function(){var e=s.getEngine().getDeltaTime()/1e3;(0,tn.BX)(e)}),[2,f.scene]}})},(ti=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){ta(o,r,a,i,c,"next",e)}function c(e){ta(o,r,a,i,c,"throw",e)}i(void 0)})}).apply(this,arguments)}var tc=n(43011),ts=n(14280),tl=n(58451),tu=n(17769),tf=n(2059);function td(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){n(e);return}c.done?t(s):Promise.resolve(s).then(r,a)}function tp(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){td(o,r,a,i,c,"next",e)}function c(e){td(o,r,a,i,c,"throw",e)}i(void 0)})}}function tb(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){var l=[c,s];if(n)throw TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}function th(e,t){return tm.apply(this,arguments)}function tm(){return(tm=tp(function(e,t){var n,r,a,o,i,c,s;return tb(this,function(l){switch(l.label){case 0:return(n=new D.x(e)).useRightHandedSystem=!0,[4,O(n)];case 1:return l.sent(),[4,(0,et.j)(function(e,n){t(e/n,"Loading textures")},n)];case 2:return r=l.sent(),(a=new P.Q(n)).speed=2e6,(o=a.getActiveCamera()).attachControl(),n.activeCamera=o,n.enableDepthRenderer(o,!1,!0),new tl.S(r.environment.milkyWay,n),i=(0,tc.sL)("blackHole",42,"Black Hole Demo",[]),(c=new tu.s(i,r.environment.milkyWay,n)).getTransform().position=new T.P(0,-.2,1).scaleInPlace(20*c.getRadius()),s=new tf.z(c.getTransform(),c.blackHoleUniforms,n),o.attachPostProcess(s),o.maxZ=1e12,a.getTransform().lookAt(c.getTransform().position),n.onBeforePhysicsObservable.add(function(){var t=e.getDeltaTime()/1e3,n=a.update(t);(0,ts.Iu)(a.getTransform(),n.negate()),(0,ts.Iu)(c.getTransform(),n.negate()),s.update(t)}),document.addEventListener("click",tp(function(){var e;return tb(this,function(t){switch(t.label){case 0:if(null!==document.pointerLockElement)return[3,2];return[4,null==(e=a.getActiveCamera().getEngine().getRenderingCanvas())?void 0:e.requestPointerLock()];case 1:t.sent(),t.label=2;case 2:return[2]}})})),t(1,"Black Hole Scene Loaded"),[2,n]}})})).apply(this,arguments)}var tv=n(73529),ty=n(65681),tg=n(16890),tw=n(82659),tP=n(62632),tS=n(44356);function tR(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){n(e);return}c.done?t(s):Promise.resolve(s).then(r,a)}function tT(e,t){return tA.apply(this,arguments)}function tA(){var e;return e=function(e,t){var n,a,o,i,c,s,l,u,f;return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){var l=[c,s];if(n)throw TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}(this,function(d){switch(d.label){case 0:return(n=new D.x(e)).useRightHandedSystem=!0,[4,O(n)];case 1:return d.sent(),a=(0,et.U)(n),(o=new P.Q(n)).speed=2e3,(i=o.getActiveCamera()).attachControl(),n.activeCamera=i,n.enableDepthRenderer(i,!1,!0),c=(0,tv.L)("neutronStar",456,"Neutron Star Demo",[]),(s=new tP.R(c,a,n)).getTransform().position=new T.P(0,0,1).scaleInPlace(2e6*s.getRadius()),l=new tw.X(s.mesh,s.volumetricLightUniforms,[],n),i.attachPostProcess(l),u=new tg.J(s.getTransform(),s.getRadius(),s.model.dipoleTilt,n),i.attachPostProcess(u),f=new ty.i(s.getTransform(),s.getRadius(),(0,tS.y)(c.blackBodyTemperature),n),i.attachPostProcess(f),i.maxZ=1e12,o.getTransform().lookAt(s.getTransform().position),n.onBeforePhysicsObservable.add(function(){var t=e.getDeltaTime()/1e3,n=o.update(t);s.getTransform().rotate(r.Axis.Y,2*Math.PI*t/c.siderealDaySeconds),(0,ts.Iu)(o.getTransform(),n.negate()),(0,ts.Iu)(s.getTransform(),n.negate()),u.update(t)}),t(1,"Neutron Star Scene Loaded"),[2,n]}})},(tA=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){tR(o,r,a,i,c,"next",e)}function c(e){tR(o,r,a,i,c,"throw",e)}i(void 0)})}).apply(this,arguments)}var tE=n(19577),tC=n(86950),tO=n(24432),tk=n(16050),tx=n(31328);function tI(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){n(e);return}c.done?t(s):Promise.resolve(s).then(r,a)}function tM(e,t){return tD.apply(this,arguments)}function tD(){var e;return e=function(e,t){var n,a,o,i;return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){var l=[c,s];if(n)throw TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}(this,function(c){switch(c.label){case 0:return n=new D.x(e),(a=new r.FreeCamera("camera1",new r.Vector3(0,5,-10),n)).setTarget(r.Vector3.Zero()),a.attachControl(),[4,(0,eX.L)()];case 1:switch(c.sent(),o=new tE.b(new G.cV),document.body.appendChild(o.root),null!=(i=new URLSearchParams(window.location.search).get("tutorial"))?i:"flight"){case"flight":return[3,2];case"fuelScoop":return[3,4];case"stationLanding":return[3,6];case"starMap":return[3,8]}return[3,10];case 2:return[4,o.setTutorial(new tC.d)];case 3:case 5:case 7:case 9:return c.sent(),[3,10];case 4:return[4,o.setTutorial(new tO.L)];case 6:return[4,o.setTutorial(new tx.b)];case 8:return[4,o.setTutorial(new tk.D)];case 10:return t(1,"Loaded tutorial"),[2,n]}})},(tD=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){tI(o,r,a,i,c,"next",e)}function c(e){tI(o,r,a,i,c,"throw",e)}i(void 0)})}).apply(this,arguments)}function tL(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){n(e);return}c.done?t(s):Promise.resolve(s).then(r,a)}function t_(e,t){return tN.apply(this,arguments)}function tN(){var e;return e=function(e,t){var n,c,u,p,m;function g(t){n.cameras.forEach(function(e){return e.attachPostProcess(t)}),n.onNewCameraAddedObservable.add(function(e){e.attachPostProcess(t)}),n.onBeforeRenderObservable.add(function(){var n=e.getDeltaTime()/1e3;t.update(n)})}return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){var l=[c,s];if(n)throw TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}(this,function(w){switch(w.label){case 0:var P,S,R,A,E,C,O,k,x,I;return((n=new D.x(e)).useRightHandedSystem=!0,c=new URLSearchParams(window.location.search),(u=new r.ArcRotateCamera("ArcRotateCamera",0,3.14/3,5,T.P.Zero(),n)).attachControl(),u.lowerRadiusLimit=.5,u.wheelPrecision*=100,u.minZ=.01,p=n.enableDepthRenderer(null,!1,!0),"mandelbulb"===(m=c.get("fractal")))?(P=(0,f.i)("mandelbulb",1e5*Math.random(),"XR Anomaly",[]),(S=new i.W(P,n)).getTransform().scalingDeterminant=1/4e5,g(new d.C(S.getTransform(),S.getBoundingRadius(),P,n,[])),S.getTransform()):"julia"===m?(R=(0,a.c)("julia",1e5*Math.random(),"XR Anomaly",[]),(A=new i.W(R,n)).getTransform().scalingDeterminant=1/4e5,g(new o.v(A.getTransform(),A.getBoundingRadius(),R.accentColor,n,[])),A.getTransform()):"mandelbox"===m?(E=(0,s.i)("mandelbox",1e5*Math.random(),"XR Anomaly",[]),(C=new i.W(E,n)).getTransform().scalingDeterminant=1e-5,g(new l.m(C.getTransform(),C.getBoundingRadius(),E,n,[])),C.getTransform()):"pyramid"===m?(O=(0,v.q)("sierpinski",1e5*Math.random(),"XR Anomaly",[]),(k=new i.W(O,n)).getTransform().scalingDeterminant=1e-5,g(new y.U(k.getTransform(),k.getBoundingRadius(),O,n,[])),k.getTransform()):(x=(0,b.$)("menger",1e5*Math.random(),"XR Anomaly",[]),(I=new i.W(x,n)).getTransform().scalingDeterminant=1e-5,g(new h.x(I.getTransform(),I.getBoundingRadius(),x,n,[])),I.getTransform()),[4,n.createDefaultXRExperienceAsync()];case 1:return w.sent().baseExperience.camera.setTransformationFromNonVRCamera(u,!0),n.onBeforeCameraRenderObservable.add(function(e){p.getDepthMap().activeCamera=e}),t(1,"Loading complete"),[2,n]}})},(tN=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){tL(o,r,a,i,c,"next",e)}function c(e){tL(o,r,a,i,c,"throw",e)}i(void 0)})}).apply(this,arguments)}var tj=function(){var e;function t(){var e;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");e=new Map([["orbitalDemo",eI],["tunnel",eP],["automaticLanding",F],["debugAssets",es],["spaceStation",eF],["spaceStationUI",eJ],["xr",t_],["flightDemo",eh],["neutronStar",tT],["character",J],["starMap",e3],["tutorial",tM],["asteroidField",I],["starSystemView",to],["rings",ej],["sierpinski",g],["mandelbox",u],["mandelbulb",p],["juliaSet",c],["mengerSponge",m],["atmosphericScattering",N],["darkKnight",ea],["blackHole",th]]),"map"in this?Object.defineProperty(this,"map",{value:e,enumerable:!0,configurable:!0,writable:!0}):this.map=e}return e=[{key:"register",value:function(e,t){this.map.set(e,t)}},{key:"get",value:function(e){var t;return null!=(t=this.map.get(e))?t:eu}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}()},91822:function(e,t,n){n.d(t,{Z:()=>r});function r(e,t,n){return(0x466f45d*e^0x127409f*t^0x4f9ffb7*n)%1e9}},31796:function(e,t,n){n.d(t,{CW:()=>i,Ec:()=>l,Qc:()=>f,a2:()=>s,oZ:()=>u,p5:()=>c,r_:()=>o,th:()=>function e(t,n){return 0===n?t:e(n,t%n)},uZ:()=>a});var r=n(51971);function a(e,t,n){return Math.min(Math.max(e,t),n)}function o(e,t,n){return e>t?Math.max(t,e-n):Math.min(t,e+n)}function i(e,t,n){var r=Math.min(1,Math.max(0,(n-e)/(t-e)));return r*r*(3-2*r)}function c(e){return 2*Math.abs(e-Math.floor(e+.5))}function s(e,t,n,r,a){return r+(e-t)*(a-r)/(n-t)}function l(e,t,n,r){return t+(e-t)*Math.pow(2,-r/n)}function u(e,t,n,a,o){return r._f.SlerpToRef(e,t,Math.pow(2,-a/n),o)}function f(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=t,a=0;a<n;a++){var o=e(r);if(1e-8>Math.abs(o))break;var i=(e(r+1e-4)-o)/1e-4;r-=o/i}return r}},24660:function(e,t,n){n.d(t,{pl:()=>a}),n(68645);var r=n(51971);function a(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,o=function(e,t){var n=-1,r=t[0];if(void 0===r)throw Error("no bodieees !");var a=!0,o=!1,i=void 0;try{for(var c,s=t[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var l=c.value,u=e.subtract(l.getTransform().getAbsolutePosition()).length();(-1===n||u<n)&&(r=l,n=u)}}catch(e){o=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw i}}return r}(t.getTransform().getAbsolutePosition(),n.getStellarObjects());if(o===t)e.getTransform().setAbsolutePosition(t.getTransform().getAbsolutePosition().add(new r.P(0,.2,1).scaleInPlace(t.getBoundingRadius()*a)));else{var i=t.getTransform().getAbsolutePosition().subtract(o.getTransform().getAbsolutePosition()),c=i.length();i.scaleInPlace(1/c);var s=o.getTransform().getAbsolutePosition().add(i.scale(c-a*t.getBoundingRadius()));e.getTransform().setAbsolutePosition(s)}n.translateEverythingNow(e.getTransform().getAbsolutePosition().negate()),e.getTransform().setAbsolutePosition(r.P.Zero()),e.getTransform().lookAt(t.getTransform().getAbsolutePosition())}n(14280)},91307:function(e,t,n){function r(e,t){var n=[];if(e.children.forEach(function(e,r){if("x"!==r&&"y"!==r){var a,o,i=e.name;i=i.replace("key:",""),i=null!=(o=null==t||null==(a=t.get(i))?void 0:a.toUpperCase())?o:i,n.push([r,i])}}),void 0===n[0]||void 0===n[1]||void 0===n[2]||void 0===n[3])throw Error("DPadComposite keys are undefined");return[n[2],n[0],n[3],n[1]]}function a(e,t){var n=[];return e.children.forEach(function(e,r){var a,o,i=e.name;i=i.replace("key:",""),i=null!=(o=null==t||null==(a=t.get(i))?void 0:a.toUpperCase())?o:i,n.push([r,i])}),n}function o(e,t){return e.action.bindings.map(function(e){var n,r,a,o;return n=e.control,o=(o=n.name).replace("key:",""),o=null!=(a=null==t||null==(r=t.get(o))?void 0:r.toUpperCase())?a:o})}n.d(t,{C9:()=>a,cs:()=>r,gW:()=>o})}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,(()=>{var e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",a=e=>{e&&e.d<1&&(e.d=1,e.forEach(e=>e.r--),e.forEach(e=>e.r--?e.r++:e()))},o=n=>n.map(n=>{if(null!==n&&"object"==typeof n){if(n[e])return n;if(n.then){var o=[];o.d=0,n.then(e=>{i[t]=e,a(o)},e=>{i[r]=e,a(o)});var i={};return i[e]=e=>e(o),i}}var c={};return c[e]=function(){},c[t]=n,c});n.a=(n,i,c)=>{c&&((s=[]).d=-1);var s,l,u,f,d=new Set,p=n.exports,b=new Promise((e,t)=>{f=t,u=e});b[t]=p,b[e]=e=>{s&&e(s),d.forEach(e),b.catch(function(){})},n.exports=b,i(n=>{l=o(n);var a,i=()=>l.map(e=>{if(e[r])throw e[r];return e[t]}),c=new Promise(t=>{(a=()=>t(i)).r=0;var n=e=>e!==s&&!d.has(e)&&(d.add(e),e&&!e.d&&(a.r++,e.push(a)));l.map(t=>t[e](n))});return a.r?c:i()},e=>(e?f(b[r]=e):u(p),a(s))),s&&s.d<0&&(s.d=0)}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.k=e=>""+e+".css",n.u=e=>""+e+"."+({1098:"47c96d7cb837d5fc",1112:"52e00a662903fe65",1245:"32964cae5ceebb63",1264:"7ed31c17618f66b3",1326:"815013edc9a48b4c",1499:"edaf1e6180cbcd23",1502:"43ebd451f71928a8",1554:"28aa99d87ac16ea0",1556:"1d2f202f7733e632",1716:"fc28f5ea43e9bb7b",1863:"0a87b7deeca5767e",1866:"8c6422420e97eca3",1953:"2619e09be46dbb7f",1979:"8e1b1a63a823e591",2125:"2e09b45893bd64ee",2166:"df18388456625f41",2195:"b1dd53356f5209f9",225:"18ab91ea2b304a49",2257:"2dc761321553345a",2268:"c97330c878963458",2292:"4c55df9cc06dd085",2379:"0839d5f2a1306a90",2385:"c5547cc5df781ce1",2404:"17798c407df2d8e5",2406:"5758cdfa71cb1262",2474:"639bc44bc2bd235f",2563:"42192c1f519b3c53",2750:"c7766fc3732f5f94",2789:"71b089e5785cb001",2814:"70deb7cd1bacb99b",2819:"645bee88ea024e10",2891:"695e435da3d12afe",2947:"aa1d5f9a100079c6",2978:"5e175aed2ad160c4",3012:"ff6908bb7b4888ec",3032:"3742f706549d1b2e",3084:"7c1cb5af2a3658d2",3091:"521cbb6906942df4",3109:"9c0e00bd02096e5a",3157:"7ad9818f97c3ef7c",3197:"efbdd0864966992f",3207:"87b70a0cf7dc75ac",3213:"7943f3b74cee3d59",3246:"63d9f2563f9a549b",3492:"5e4288f0c505583d",354:"26e8bea849dd7a1b",3609:"42b3229bf7c812ed",3612:"6553c0724873fa03",362:"9ddfed71fe43bcc1",3627:"7afc32e031ee9204",374:"2f2ca8de727e85c2",3802:"6c1d019f2f95f438",3827:"c65e694b93f6865c",3855:"90ac1da3970b3386",3867:"4339605a2b14fd2f",3878:"fe203c0e35b2b197",3882:"4850e20e5bd9dec1",3887:"e828ca1de926eae8",393:"ac34eee3414ab52d",40:"3f83b5c483aaaa50",4010:"50965c38bfec62d5",4089:"628df5acb7bf28c4",4126:"207e7967dc1d91c9",417:"e711d30661e5eeb2",4233:"db2ebaba08c750da",4234:"f37bc3556648128b",4235:"da5eb776980826e6",4269:"7c5bf0172adb5177",4290:"6e26bd301ab73777",4333:"f8d9d6347f6eb0c5",4391:"8a3a4abf58a0f064",444:"1993666983d19562",4511:"dd69048d5133ca18",4540:"c3a3fdc6a1f56d9b",4632:"6ad08f3a76759a81",4646:"5719952ff27886dc",4716:"32caaa372386817a",5006:"94c41dce8d2336e4",5067:"22b3a22b737fc142",5119:"e87d2eb1e3d73945",5188:"3256a7c571b87e46",5227:"8242af4a14e52eac",5268:"5ebccf706d0c17d6",5276:"2060d42d66630675",537:"36fed3afdb84260e",5370:"a949155dbc9704c3",5461:"ad0cd10b165aa533",5773:"feaa0a7aa73d7b92",590:"214e7927a455dbeb",5923:"8163c897b678e989",5970:"43ab88ef9c6b9653",5982:"41351bd7c0e39a25",6010:"74b85b0c49f30f20",6039:"4e2edc2d15c63e04",6121:"06b554efccd3e2fc",619:"71dacf28b58d47d2",6313:"85f2c0cf46fa8449",6344:"894216915c735b09",6383:"1abaf85edd25ba19",651:"cf4df10517dc7470",6545:"7a5e4819535c1653",6546:"3d5ee65e142fbd86",6652:"9b4773ef6371971c",6675:"67a65958e720e129",6764:"0d284fc89cfa72dc",6801:"00562b50de58769f",6844:"698dbc63363b0e4e",6876:"5eb3e65ea05c0dcf",6920:"be7e08208de8a08a",6965:"69baa9990e8a2e07",7e3:"aadb929158586f18",7105:"690b6b073bdd6946",7202:"1cff8b2a26b21142",7205:"71e54a46eb5c435a",725:"33c60c5af5ebbb00",7377:"c121fc8600287a7f",7417:"227835f2ecd02cbc",7418:"d4cbf06580437fcd",7458:"6dac7e7a314fd668",7606:"fe5e4cc380333e93",788:"1b53e0e36ce9162c",7908:"25e2c13df5b547fb",7966:"22a870cc230de5bb",7980:"a8aebeb72bfc947d",7999:"32aa2277c903d4cb",8062:"c068e464c719f9fc",8220:"a747ffa548a8a89d",8362:"a909dd7df039f6fa",8363:"19cfd92c65272c27",846:"92b0d1598e895399",854:"6a2231dea0f61153",8824:"8e7e10f178b60420",8893:"1927e1eb8294da9c",9121:"670754c79c402be0",9122:"f638304ae9a4819e",9149:"cd2da8d0d4a59a84",9182:"1a2b2b774c7e7744",9242:"6ab0902ebb9f8578",9258:"af60f456d793688c",9379:"c8cb966fc656ad51",9432:"9e2e3d31c31e07db",9510:"9d20d9bac39ebc81",9531:"e3c26fea3409ef2e",9575:"ebb886b2a8d7e669",9646:"95b26053089eac28",9667:"52b48f55a3d62de3",9702:"d0a05dc539a9877e",9843:"9852e31eb8b3a3a5",9917:"95d03eccb42dd669",9938:"500fe62d8de54371",9964:"1d072f0ec9dd1195",9973:"5b2462d2a9bee464"})[e]+".js",n.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="cosmos-journeyer:";n.l=function(r,a,o,i){if(e[r])return void e[r].push(a);if(void 0!==o)for(var c,s,l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var f=l[u];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+o){c=f;break}}c||(s=!0,(c=document.createElement("script")).charset="utf-8",c.timeout=120,n.nc&&c.setAttribute("nonce",n.nc),c.setAttribute("data-webpack",t+o),c.src=r),e[r]=[a];var d=function(t,n){c.onerror=c.onload=null,clearTimeout(p);var a=e[r];if(delete e[r],c.parentNode&&c.parentNode.removeChild(c),a&&a.forEach(function(e){return e(n)}),t)return t(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=d.bind(null,c.onerror),c.onload=d.bind(null,c.onload),s&&document.head.appendChild(c)}})(),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=[];n.O=(t,r,a,o)=>{if(r){o=o||0;for(var i=e.length;i>0&&e[i-1][2]>o;i--)e[i]=e[i-1];e[i]=[r,a,o];return}for(var c=1/0,i=0;i<e.length;i++){for(var[r,a,o]=e[i],s=!0,l=0;l<r.length;l++)(!1&o||c>=o)&&Object.keys(n.O).every(e=>n.O[e](r[l]))?r.splice(l--,1):(s=!1,o<c&&(c=o));if(s){e.splice(i--,1);var u=a();void 0!==u&&(t=u)}}return t}})(),n.rv=()=>"1.3.7",(()=>{n.g.importScripts&&(e=n.g.location+"");var e,t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=r[a--].src}if(!e)throw Error("Automatic publicPath is not supported in this browser");n.p=e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/")})(),(()=>{var e={4823:0},t="cosmos-journeyer",r=(t,n)=>{e[n]=0},a="data-webpack-loading",o=function(e,r,o,i,c){var s,l,u="chunk-"+e;if(!i){for(var f=document.getElementsByTagName("link"),d=0;d<f.length;d++){var p=f[d],b=p.getAttribute("href")||p.href;if(b&&!b.startsWith(n.p)&&(b=n.p+(b.startsWith("/")?b.slice(1):b)),"stylesheet"==p.rel&&(b&&b.startsWith(r)||p.getAttribute("data-webpack")==t+":"+u)){s=p;break}}if(!o)return s}s||(l=!0,s=document.createElement("link"),n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+":"+u),c&&s.setAttribute("fetchpriority",c),s.setAttribute(a,1),s.rel="stylesheet",s.href=r);var h=function(e,t){if(s.onerror=s.onload=null,s.removeAttribute(a),clearTimeout(m),t&&"load"!=t.type&&s.parentNode.removeChild(s),o(t),e)return e(t)};if(s.getAttribute(a)){var m=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload)}else h(void 0,{type:"load",target:s});return i?document.head.insertBefore(s,i):l&&document.head.appendChild(s),s};r(n.m,0,"4823"),n.f.css=function(t,a,i){var c=n.o(e,t)?e[t]:void 0;if(0!==c)if(c)a.push(c[2]);else if(4823==t){var s=new Promise(function(n,r){c=e[t]=[n,r]});a.push(c[2]=s);var l=n.p+n.k(t),u=Error();o(t,l,function(a){if(n.o(e,t)&&(0!==(c=e[t])&&(e[t]=void 0),c))if("load"!==a.type){var o=a&&a.type,i=a&&a.target&&a.target.src;u.message="Loading css chunk "+t+" failed.\n("+o+": "+i+")",u.name="ChunkLoadError",u.type=o,u.request=i,c[1](u)}else r(n.m,t),c[0]()},void 0,i)}else e[t]=0}})(),(()=>{n.b=document.baseURI||self.location.href;var e={8308:0};n.f.j=function(t,r){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var o=new Promise((n,r)=>a=e[t]=[n,r]);r.push(a[2]=o);var i=n.p+n.u(t),c=Error();n.l(i,function(r){if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;c.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",c.name="ChunkLoadError",c.type=o,c.request=i,a[1](c)}},"chunk-"+t,t)}},n.O.j=t=>0===e[t];var t=(t,r)=>{var a,o,[i,c,s]=r,l=0;if(i.some(t=>0!==e[t])){for(a in c)n.o(c,a)&&(n.m[a]=c[a]);if(s)var u=s(n)}for(t&&t(r);l<i.length;l++)o=i[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},r=globalThis.webpackChunkcosmos_journeyer=globalThis.webpackChunkcosmos_journeyer||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.ruid="bundler=rspack@1.3.7";var r=n.O(void 0,["8146","2343","3530","754","1416","3942","6962","8314","3480","2027","2961","3793","7858","5650","8514","263","8251","6449","4034","3859","9129","971","7775","4823"],function(){return n(18722)});r=n.O(r)})();